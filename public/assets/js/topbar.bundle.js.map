{"version":3,"sources":["webpack://projet1-todo_list/./src/assets/javascripts/topbar.js"],"names":["iconMobile","document","querySelector","headerMenu","sectionMobile","isMenuOpen","mobileMenuDOM","closeMenu","classList","remove","createMobileMenu","createElement","add","addEventListener","event","stopPropagation","append","cloneNode","openMenu","toggleMobileMenu","window","innerWidth"],"mappings":";;;;;AAAA;AACA,IAAMA,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAAnB;AACA,IAAMC,UAAU,GAAGF,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAnB;AACA,IAAME,aAAa,GAAGH,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAtB,C,CACA;;AACA,IAAIG,UAAU,GAAG,KAAjB,C,CACA;;AACA,IAAIC,aAAJ,C,CAEA;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBD,eAAa,CAACE,SAAd,CAAwBC,MAAxB,CAA+B,MAA/B;AACD,CAFD,C,CAKA;AACA;AACA;;;AACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BJ,eAAa,GAAGL,QAAQ,CAACU,aAAT,CAAuB,KAAvB,CAAhB;AACAL,eAAa,CAACE,SAAd,CAAwBI,GAAxB,CAA4B,aAA5B;AACAN,eAAa,CAACO,gBAAd,CAA+B,OAA/B,EAAwC,UAAAC,KAAK,EAAI;AAC/CA,SAAK,CAACC,eAAN;AACD,GAFD;AAGAT,eAAa,CAACU,MAAd,CAAqBb,UAAU,CAACD,aAAX,CAAyB,IAAzB,EAA+Be,SAA/B,CAAyC,IAAzC,CAArB;AACAb,eAAa,CAACY,MAAd,CAAqBV,aAArB;AACD,CARD,C,CAUA;AACA;;;AACA,IAAMY,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,MAAI,CAACZ,aAAL,EAAoB;AAClBI,oBAAgB;AACjB;;AACDJ,eAAa,CAACE,SAAd,CAAwBI,GAAxB,CAA4B,MAA5B;AACD,CALD,C,CAOA;;;AACA,IAAMO,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAL,KAAK,EAAI;AAChC,MAAIT,UAAJ,EAAgB;AACdE,aAAS;AACV,GAFD,MAEO;AACLW,YAAQ;AACT;;AACDb,YAAU,GAAG,CAACA,UAAd;AACD,CAPD,C,CASA;AACA;;;AACAL,UAAU,CAACa,gBAAX,CAA4B,OAA5B,EAAqC,UAAAC,KAAK,EAAI;AAC5CA,OAAK,CAACC,eAAN;AACAI,kBAAgB;AACjB,CAHD,E,CAKA;;AACAC,MAAM,CAACP,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;AACrC,MAAIR,UAAJ,EAAgB;AACdc,oBAAgB;AACjB;AACF,CAJD,E,CAMA;AACA;;AACAC,MAAM,CAACP,gBAAP,CAAwB,QAAxB,EAAkC,UAAAC,KAAK,EAAI;AACzC,MAAIM,MAAM,CAACC,UAAP,GAAoB,GAApB,IAA2BhB,UAA/B,EAA2C;AACzCc,oBAAgB;AACjB;AACF,CAJD,E","file":"assets/js/topbar.bundle.js","sourcesContent":["// Nous créons les références pour notre menu et l’icône du menu :\r\nconst iconMobile = document.querySelector(\".header-menu-icon\");\r\nconst headerMenu = document.querySelector(\".header-menu\");\r\nconst sectionMobile = document.querySelector(\".mobile\");\r\n// Cette propriété permettra de savoir si le menu est ouvert :\r\nlet isMenuOpen = false;\r\n// Cette propriété permettra de savoir si le menu mobile est créé :\r\nlet mobileMenuDOM;\r\n\r\n// Pour fermer le menu il suffit d’enlever la classe open sur le menu :\r\nconst closeMenu = () => {\r\n  mobileMenuDOM.classList.remove(\"open\");\r\n};\r\n\r\n\r\n// Nous créons une div et nous ajoutons la classe mobile-menu.\r\n// Nous empêchons la fermeture du menu sur un clic à l’intérieur.\r\n// Nous y clonons ensuite les liens du menu normal.\r\nconst createMobileMenu = () => {\r\n  mobileMenuDOM = document.createElement(\"div\");\r\n  mobileMenuDOM.classList.add(\"mobile-menu\");\r\n  mobileMenuDOM.addEventListener(\"click\", event => {\r\n    event.stopPropagation();\r\n  });\r\n  mobileMenuDOM.append(headerMenu.querySelector(\"ul\").cloneNode(true));\r\n  sectionMobile.append(mobileMenuDOM);\r\n};\r\n\r\n// Si le menu n’est pas créé nous le créons.\r\n// Dans tous les cas nous l’ouvrons en ajoutant la classe open :\r\nconst openMenu = () => {\r\n  if (!mobileMenuDOM) {\r\n    createMobileMenu();\r\n  }\r\n  mobileMenuDOM.classList.add(\"open\");\r\n};\r\n\r\n// Permet d’ouvrir ou de fermer le menu en fonction de son état :\r\nconst toggleMobileMenu = event => {\r\n  if (isMenuOpen) {\r\n    closeMenu();\r\n  } else {\r\n    openMenu();\r\n  }\r\n  isMenuOpen = !isMenuOpen;\r\n};\r\n\r\n// Un clic sur l’icône va ouvrir ou fermer le menu \r\n// et empêcher la propagation de l’événement à window :\r\niconMobile.addEventListener(\"click\", event => {\r\n  event.stopPropagation();\r\n  toggleMobileMenu();\r\n});\r\n\r\n// Nous récupérons les clics sur window pour fermer le menu.\r\nwindow.addEventListener(\"click\", () => {\r\n  if (isMenuOpen) {\r\n    toggleMobileMenu();\r\n  }\r\n});\r\n\r\n// Si la fenêtre est agrandie et qu’elle dépasse 480px de largeur\r\n// Alors nous fermons le menu si il est ouvert :\r\nwindow.addEventListener(\"resize\", event => {\r\n  if (window.innerWidth > 480 && isMenuOpen) {\r\n    toggleMobileMenu();\r\n  }\r\n});"],"sourceRoot":""}